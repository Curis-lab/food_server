generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Vendor{
  id String @id @default(auto()) @map("_id") @db.ObjectId
  name String
  email String @unique
  password String
  createdAt DateTime @default(now())
  foods Food[]
}

model Food{
  id String @id @default(auto()) @map("_id") @db.ObjectId
  vendorId String @db.ObjectId
  name String
  description String
  category String
  foodType String
  readyTime Int
  price Float
  rating Float
  images String[]
  vendor Vendor @relation(fields: [vendorId], references: [id])
}

model Customer{
  id String @id @default(auto()) @map("_id") @db.ObjectId
  email String
  password String
  salt String
  firstName String
  lastName String
  address String
  phone String
  verified Boolean @default(false)
  otp String
  otp_expiry DateTime
  lat Float
  lng Float
  coverImage String[]
  status String
  role String
  orders Order[]
}

model Admin{
  id String @id @default(auto()) @map("_id") @db.ObjectId
  name String
  password String
  email String @unique
  role String
  address String
  phone String
  salt String
  status String
  coverImage String[]
}

model Order{
  id String @id @default(auto()) @map("_id") @db.ObjectId
  customerId String @db.ObjectId
  customer Customer @relation(fields: [customerId], references: [id])
  totalAmount Float
  orderDate DateTime @default(now())
  paidThrough String
  paymentResponse String
  orderStatus String
}
